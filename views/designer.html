<!DOCTYPE html>
<html lang="en">
<head>
    <title>Air Showroom - Designer</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="css/home-style.css">
    <link rel="stylesheet" type="text/css" href="css/project-style.css">
    <link rel="stylesheet" type="text/css" href="css/designer-style.css">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="http://malsup.github.com/jquery.form.js"></script>
    <script src="js/js-api-global.js"></script>
    <script src="js/js-navbar.js"></script>

    <script>
        $(function(){
            $('form[name=sign-in-form]').submit(function(){
                $.post($(this).attr('action'), $(this).serialize(), function(json) {
                    alert(json);
                }, 'json');
                return false;
            });
        });
    </script>

</head>

<body>

<div class="container-fluid main-container">

    <nav class="navbar navbar-default navbar-fixed-top" id="navbar">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" id="navbar-brand" href="home.html">Air Showroom</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                    <li><a href="projects.html">Shop</a></li>
                    <li><a href="designers.html">Our Designers</a></li>
                    <li><a href="how-it-works.html">How it works</a></li>
                    <li><a href="about-us.html">About</a></li>
                    <li><a href="campaign.html">+ Launch a campaign</a></li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="#search-modal" data-toggle="modal"><span class="glyphicon glyphicon-search"></span></a></li>
                    <li><a href="#search-modal" data-toggle="modal"><span class="glyphicon glyphicon-heart"></span></a></li>
                    <li><a href="#cart-modal" data-toggle="modal"><span class="glyphicon glyphicon-shopping-cart"></span></a></li>
                    <li id="sign-nav-button"><a href="#signup-modal" data-toggle="modal"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                    <li id="login-nav-button"><a href="#login-modal" data-toggle="modal"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>

                    <li class="dropdown" id="logged-nav-button">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" >
                            <p id="nav-login-name"> Name </p>
                        </a>
                        <ul class="dropdown-menu login-dropdown" id="nav-user-dropdown-menu">
                            <li>
                                <img class="img-circle" id="nav-login-icon" src="https://keepon.life/images/default_user.jpg" height="128px">
                                <h4 id="nav-drop-login-name">name surname</h4>
                                <div><button id="nav-drop-edit-profile-btn" class="btn btn-default" style="margin-top: 10px;"> Edit Profile </button></div>
                                <div><button id="nav-drop-designer-studio-btn" class="btn btn-default" style="margin-top: 10px; display: none"> Designer Studio </button></div>
                                </br>
                                <div><button id="nav-drop-logout-btn" class="btn btn-default" style="margin-top: 10px"> Logout </button></div>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>



    <!-- SING UP Modal -->
    <div id="signup-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content signin-modal">
                <div class="modal-header">
                    <h1>JOIN THE SHOWROOM</h1>
                </div>
                <div class="modal-body">
                    <p>Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam....Lorem ipsum dolor sit amet, consectetur adipisci elit, sed eiusmod tempor incidunt ut labore et dolore magna aliqua. Ut enim ad minim veniam....</p>
                    <a href="sign-in.html"><img src="icons/arrow-right-512.png" height="256px"/></a>
                    <p>Let's start</p>
                </div>
            </div>

        </div>
    </div>



    <!-- LOGIN MODAL -->
    <div id="login-modal" class="modal fade login-modal" role="dialog">
        <div class="modal-dialog" id="login-modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-body">
                    <h4>LOGIN</h4>
                    <div class="divider"></div>
                    <div class="form-group">
                        <label for="login-email-field">Email</label>
                        <input class="form-control" id="login-email-field" autocomplete="" placeholder="email">
                    </div>
                    <div class="form-group">
                        <label for="login-password-field">Password</label>
                        <input type="password" class="form-control" id="login-password-field" autocomplete="" placeholder="password">
                    </div>
                    <div class="checkbox">
                        <label><input type="checkbox" id="login-checkbox"> Remember me</label>
                    </div>
                    <p id="login-error-label"> Username or password incorrect </p>
                    <div class="divider"></div>
                    <button id="nav-login-submit-button" type="submit" class="btn btn-default">Submit</button>
                </div>
            </div>

        </div>
    </div>



    <!-- SEARCH MODAL -->

    <div id="search-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-body">
                    <form class="form-inline" role="form">
                        <div class="form-group">
                            <label> Search: </label>
                            <input type="text" class="form-control" id="text" placeholder="Write here...">
                        </div>
                        <button type="submit" class="btn btn-default" onclick="nav_search()">GO</button>
                    </form>
                </div>
            </div>

        </div>
    </div>


    <!-- SHOPPING-CART Modal -->
    <div id="cart-modal" class="modal fade" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content signin-modal">
                <div class="modal-body">
                    <h3 style="text-align: left;">YOUR CART</h3>
                    <div class="divider"></div>
                    <p id="nav-empty-cart-label"><small>Your cart is empty</small></p>
                    <div id="cart-items-container" style=" max-height: 400px; overflow-y: scroll;">
                    </div>
                    <div id="cart-modal-info">
                        <div class="divider"></div>
                        <div class="row">
                            <div class="col-sm-4">
                                <p id="cart-subtotal-price"> ITEM TOTAL</p>
                            </div>
                            <div class="col-sm-4">
                                <p id="cart-shipping-price"> SHIPPING </p>
                            </div>
                            <div class="col-sm-4">
                                <p id="cart-total-price"> TOTAL PRICE </p>
                            </div>
                        </div>
                    </div>
                    <div class="divider"></div>
                    <button class="btn-default" id="cart-close-btn"> CLOSE </button>
                    <button class="btn-default" id="cart-checkout-btn"> CHECKOUT </button>
                </div>
            </div>

        </div>
    </div>


    <!-- FILTERS TAB -->
    <div class="container-fluid filters-tab">
        <img src="icons/as-logo-120.png" height="48px" style="display: inline">
        <div style="display: inline; width: 100%;">
            <div class="filter-tab-element" style="color: #c3c3c3;"> Show me: </div>
            <div class="filter-tab-element" style="font-weight: bold;">
                <button onclick="dropdownFilter1()" class="dropbtn">Shop All</button>
                <div id="dropdown1" class="dropdown-content">
                    <a href="#">Link 1</a>
                    <a href="#">Link 2</a>
                    <a href="#">Link 3</a>
                </div>
            </div>
            <div class="filter-tab-element" style="font-weight: bold;"> <span class="glyphicon glyphicon-menu-right"></span>  </div>
            <div class="filter-tab-element" style="font-weight: bold;">
                <button onclick="dropdownFilter2()" class="dropbtn">Clothing</button>
                <div id="dropdown2" class="dropdown-content">
                    <a href="#">Link 1</a>
                    <a href="#">Link 2</a>
                    <a href="#">Link 3</a>
                </div>
            </div>
            <div class="filter-tab-element" style="font-weight: bold;"> <span class="glyphicon glyphicon-menu-right"></span>  </div>
            <div class="filter-tab-element" style="font-weight: bold;">
                <button onclick="dropdownFilter3()" class="dropbtn">Any color</button>
                <div id="dropdown3" class="dropdown-content">
                    <a href="#">Link 1</a>
                    <a href="#">Link 2</a>
                    <a href="#">Link 3</a>
                </div>
            </div>
            <div class="filter-tab-element" style="font-weight: bold;"> <span class="glyphicon glyphicon-menu-right"></span>  </div>
            <div class="filter-tab-element" style="font-weight: bold;">
                <button onclick="dropdownFilter4()" class="dropbtn">Shop by</button>
                <div id="dropdown4" class="dropdown-content">
                    <a href="#">Link 1</a>
                    <a href="#">Link 2</a>
                    <a href="#">Link 3</a>
                </div>
            </div>
            <button class="btn-default btn-filter-clear"> clear </button>
        </div>
    </div>

    <!-- DIRECTORY TAB -->
    <div class="container-fluid directory-tab">
        <div style="display: inline; width: 100%">
            <div class="dir-tab-element"><a href="home.html">Homepage</a></div>
            <div class="dir-tab-element-fix" style="color: #c3c3c3;"> <span class="glyphicon glyphicon-menu-right"></span>  </div>
            <div class="dir-tab-element" style="color: #c3c3c3;"> <a href="projects.html">Online Shop</a> </div>
            <div class="dir-tab-element-fix" style="color: #c3c3c3;"> <span class="glyphicon glyphicon-menu-right"></span>  </div>
            <div class="dir-tab-element" id="dir-product-name" style="font-weight: bold;"> Name of the product </div>
        </div>
    </div>



    <!-- DESIGNER TAB -->
    <div class="container-fluid project-tab">

        <div class="row" id="designer-section">
            <div class="col-sm-5">
                <img id="highlight-img" src="http://www.indre-reisid.ee/wp-content/themes/envision/lib/images/default-placeholder.png">
            </div>

            <div class="col-sm-7">
                <div class="row">
                    <div class="col-sm-10">
                        <h3 id="designer-name"> NOME e COGNOME </h3>
                    </div>
                    <div class="col-sm-2">
                        <button class="btn btn-default">FOLLOW</button>
                    </div>
                </div>
                <p id="designer-place"> Place </p>
                <p> Project realized </p>
                <p id="designer-website"> website </p>

                <div class="collapse-group">
                    <p id="designer-description" class="collapse">Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
                    <button class="btn btn-default pull-left">View details</button>
                </div>

            </div>
        </div>

    </div>

    <div class="container-fluid" id="info-section">
            <ul class="nav nav-tabs info-nav-tabs" >
                <li class="active"><a data-toggle="tab" href="#details">Backed</a></li>
            </ul>

            <div class="tab-content">
                <div id="details" class="tab-pane fade in active">
                    <div class="container-fluid" id="backed-container">
                        <h4 id="no-related-proj">Designer has no projects at this moment.</h4>
                        <div class="row">
                            <div class="col-sm-3" id="related-0">
                                <a href="#">
                                <div class="thumbnail project-thumbnail">
                                    <img id="related-0-img" src="http://www.indre-reisid.ee/wp-content/themes/envision/lib/images/default-placeholder.png" alt="project_img">
                                    <h4 id="related-0-title"><strong>Title of the project</strong></h4>
                                </div>
                                </a>
                            </div>
                            <div class="col-sm-3" id="related-1">
                                <a href="#">
                                <div class="thumbnail project-thumbnail">
                                    <img id="related-1-img" src="http://www.indre-reisid.ee/wp-content/themes/envision/lib/images/default-placeholder.png" alt="project_img">
                                    <h4 id="related-1-title"><strong>Title of the project</strong></h4>
                                </div>
                                </a>
                            </div>
                            <div class="col-sm-3" id="related-2">
                                <a href="#">
                                <div class="thumbnail project-thumbnail">
                                    <img id="related-2-img" src="http://www.indre-reisid.ee/wp-content/themes/envision/lib/images/default-placeholder.png" alt="project_img">
                                    <h4 id="related-2-title"><strong>Title of the project</strong></h4>
                                </div>
                                </a>
                            </div>
                            <div class="col-sm-3" id="related-3">
                                <a href="#">
                                <div class="thumbnail project-thumbnail">
                                    <img id="related-3-img" src="http://www.indre-reisid.ee/wp-content/themes/envision/lib/images/default-placeholder.png" alt="project_img">
                                    <h4 id="related-3-title"><strong>Title of the project</strong></h4>
                                </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
    </div>


    <!-- DETAIL TAB -->


    <!-- FOOTER -->
    <footer class="container-fluid ftr text-center">
        <a href="#myPage" title="To Top">
            <span class="glyphicon glyphicon-chevron-up"></span>
        </a>
        <div class="row footer-row">
            <div class="col-sm-1"></div>
            <div class="col-sm-2">
                <h4>Discover</h4>
                <ul>
                    <li><a href="">All projects</a></li>
                    <li><a href="">Shoes</a></li>
                    <li><a href="">Dress</a></li>
                    <li><a href="">dbcskdbcsb</a></li>
                    <li><a href="">sdlcjsdlc</a></li>
                    <li><a href="">sifhdshc</a></li>
                </ul>
            </div>
            <div class="col-sm-2">
                <h4></h4>
                <ul>
                    <li><a href="">csldcnsl</a></li>
                    <li><a href="">cskncsdnc</a></li>
                    <li><a href="">dbcskdbcsb</a></li>
                    <li><a href="">sdlcjsdlc</a></li>
                    <li><a href="">sifhdshc</a></li>
                </ul>
            </div>
            <div class="col-sm-2">
                <h4>About Us</h4>
                <ul>
                    <li><a href="">How it works</a></li>
                    <li><a href="">Wo we are</a></li>
                    <li><a href="">Press</a></li>
                    <li><a href="">Etc</a></li>
                </ul>
            </div>
            <div class="col-sm-2">
                <h4>Help</h4>
                <ul>
                    <li><a href="">FAQ</a></li>
                    <li><a href="">Support</a></li>
                    <li><a href="">Term of use</a></li>
                    <li><a href="">Privacy Policy</a></li>
                    <li><a href="">Cookie Policy</a></li>
                </ul>
            </div>
            <div class="col-sm-2">
                <h4>Hi</h4>
                <ul>
                    <li><a href="">Facebook</a></li>
                    <li><a href="">Twitter</a></li>
                    <li><a href="">Youtube</a></li>
                    <li><a href="">Etc</a></li>
                </ul>
            </div>
            <div class="col-sm-1"></div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-sm-6"><span class="pull-left"><h4>Next Season Logo</h4></span></div>
                <div class="col-sm-6"><span class="pull-right">
    	<p> 2015 New Season, Inc. All Rigts Reserved </p>
        </span></div>
            </div>
        </div>

    </footer>

</div>


<!-- JS CODE -->
<script>
    var base_url = "http://localhost/cf/";
    var url_designer = base_url+"index.php/users/view_designer/"+"2";

    var designer_id;
    var designer_data;

    function getDesigner(){

        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                var json_array = JSON.parse(xmlhttp.responseText);
                designer_data = json_array.rows[0];
                updateDesignerInfo(designer_data);
                getRelatedProducts(designer_data);
            }
        };
        xmlhttp.open("GET", url_designer, true);
        xmlhttp.send();
    }

    function updateDesignerInfo(data) {
        document.getElementById("highlight-img").src = base_url+"avatar/"+data.users_id+".png";
        document.getElementById("designer-name").innerHTML = data.firstname + " " + data.lastname;
        document.getElementById("designer-place").innerHTML = data.city + ", " + data.country;
        var link = "http://" + data.website;
        document.getElementById("designer-website").innerHTML = "<a target='_blank' href="+link+">" +data.website+"</a>";
        document.getElementById("designer-description").innerHTML = data.about;

        var name = self.location.search;

    }

    function getRelatedProducts(data) {
        var url_related = base_url+"index.php/projects/view_projects_by_user/"+data.users_id;

        var xmlhttp = new XMLHttpRequest();
        xmlhttp.onreadystatechange = function() {
            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {
                var json_array = JSON.parse(xmlhttp.responseText);
                var related_data = json_array.rows;

                if(related_data.length==0) {
                    document.getElementById("no-related-proj").style.display = "inline";
                    return;
                }

                document.getElementById("no-related-proj").style.display = "none";
                for(i=0; i<related_data.length && i<4; i++) {
                    document.getElementById("related-"+i+"-img").src = base_url+"pic/"+related_data[i].projects_id+"_1.png";
                    document.getElementById("related-"+i+"-title").innerHTML = related_data[i].title;
                    document.getElementById("related-"+i).style.display = "inline";
                    document.getElementById("related-"+i).childNodes[1].href = base_url+"views/project.html?"+related_data[i].projects_id;
                }

            }
        };
        xmlhttp.open("GET", url_related, true);
        xmlhttp.send();
    }

    $('.row .btn').on('click', function(e) {
        e.preventDefault();
        var $this = $(this);
        var $collapse = $this.closest('.collapse-group').find('.collapse');
        $collapse.collapse('toggle');
    });

    var str = self.location.search;
    var id = str.replace("?", "");
    url_designer = base_url+"index.php/users/view_designer/"+id;

    getDesigner();





</script>


</body>
</html>
